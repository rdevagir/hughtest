{"nodes":{"Join_CaseHistory_OldOwner":{"action":"augment","parameters":{"leftKey":["OldOwner"],"relationship":"OldOwner","rightKey":["Id"],"rightSelect":["CallCenterId","Name","Id","Role.Name","Type"]},"sources":["compute_CaseHistory_OldNewStatus","Join_CaseHistory_Queue_User_UserRole"]},"Join_ServiceCaseServiceTask":{"action":"augment","parameters":{"leftKey":["Id"],"relationship":"Task","rightKey":["WhatId"],"rightSelect":["ActivityLastModifiedDate"]},"sources":["Join_CaseAccount","Compute_Extract_Task"]},"Extract_Contact":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Name"},{"name":"Id"}],"object":"Contact","passthroughFilter":"External_ID__c LIKE 'W_Services_Contact.%'"}},"Extract_Opportunity":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"AccountId"},{"name":"OwnerId"},{"name":"Name"},{"defaultValue":"N/A","name":"StageName"},{"defaultValue":"N/A","name":"LeadSource"},{"name":"IsWon"},{"name":"IsClosed"},{"defaultValue":"N/A","name":"ForecastCategory"},{"defaultValue":"N/A","name":"ForecastCategoryName"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"DateTimeCreated__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CloseDate"},{"name":"Amount"},{"name":"CreatedById"},{"name":"RecordTypeId"}],"object":"Opportunity","passthroughFilter":"External_ID__c LIKE 'W_Services_Opportunity.%'","runtime":{"SFDCtoken":"SFDCtoken"}}},"Join_LiveChatTranscript_Case_NoCSAT":{"action":"augment","parameters":{"leftKey":["CaseId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["Origin","Reason","Type","IsClosed","ClosedDate","CreatedDate","Type_of_Support__c","Status","Product_Family_KB__c","Priority","CaseNumber","Account.Name","Account.Id","Time_Open__c","Role.Name","CurrentDate","RecordType.Name"]},"sources":["Join_LiveChatTranscript_User","Join_CaseAccountContactUserUserRoleRecordType"]},"Extract_Knowledge_kav_online":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"ArticleNumber__c"},{"name":"CreatedById"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"name":"OwnerId__c"},{"name":"PublishStatus__c"},{"name":"IsLatestVersion__c"},{"name":"IsVisibleInApp__c"},{"name":"IsVisibleInCsp__c"},{"name":"IsVisibleInPkb__c"},{"name":"IsVisibleInPrm__c"},{"name":"KnowledgeArticleId__c"},{"name":"Title__c"},{"name":"VersionNumber__c","type":"Text"}],"object":"KCSArticle_kav__c","passthroughFilter":"External_Id__c LIKE 'W_KCSArticleVersion.%' and Language__c = 'en_US' and PublishStatus__c='Online'"}},"Extract_ServiceChannel":{"action":"sobjectDigest","parameters":{"fields":[{"name":"DeveloperName"},{"name":"MasterLabel"},{"name":"Id"}],"object":"ServiceChannel"}},"Handle_Only_Activities":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Is Activity","name":"IsActivity","saqlExpression":"case when 'Case.Id' is null then \"No\" else \"Yes\" end","type":"Text"},{"label":"Is Call","name":"IsCall","saqlExpression":"case when CallDurationInSeconds > 0 then \"Yes\" else \"No\" end","type":"Text"},{"label":"Activity Is Closed","name":"ActivityIsClosed","saqlExpression":"case when ('Type' == \"Task\" && 'IsClosed' == \"true\") ||  ('Case.CurrentDate_sec_epoch' > 'EndDateTime_sec_epoch') then \"Completed\" when ('Type' == \"Task\" && 'IsClosed' == \"false\") then \"Open\" else \"Open\" end","type":"Text"}],"mergeWithSource":true},"sources":["Join_ActivityOwner_Case"]},"Join_CaseAccountContactUserUserRoleCaseArticle":{"action":"augment","parameters":{"leftKey":["Id"],"relationship":"CaseArticle","rightKey":["CaseId"],"rightSelect":["ArticleVersionNumber","CaseId","CreatedDate","User.Name"]},"sources":["Join_CaseAccountContactUserUserRole","Join_CaseArticleKnowledge_User"]},"Join_CaseAccountContactUserUserRoleRecordType":{"action":"augment","parameters":{"leftKey":["RecordTypeId"],"relationship":"RecordType","rightKey":["Id"],"rightSelect":["Name"]},"sources":["Handle_Null_Attached_Articles","Extract_RecordTypes"]},"Join_ServicePresenceUser":{"action":"augment","parameters":{"leftKey":["UserId"],"relationship":"UserId","rightKey":["Id"],"rightSelect":["Name"]},"sources":["add_standard_Extract_UserServicePresence","Extract_User"]},"Extract_Case":{"action":"sobjectDigest","parameters":{"fields":[{"name":"CSAT__c","type":"Text"},{"name":"Time_Open__c"},{"name":"AccountId"},{"name":"ContactId"},{"name":"OwnerId"},{"name":"Id"},{"defaultValue":"N/A","name":"Origin"},{"defaultValue":"N/A","name":"Reason"},{"defaultValue":"N/A","name":"Type"},{"name":"IsClosed"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"ClosedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"LastModifiedDate"},{"name":"IsEscalated"},{"name":"First_Contact_Close__c"},{"defaultValue":"N/A","name":"Type_of_Support__c"},{"defaultValue":"N/A","name":"Status"},{"name":"MilestoneStatus__c"},{"defaultValue":"N/A","name":"Product_Family_KB__c"},{"defaultValue":"N/A","name":"Priority"},{"name":"CaseNumber"},{"defaultValue":"N/A","name":"RecordTypeId"}],"object":"Case","passthroughFilter":"External_ID__c LIKE 'W_Case.%'"}},"Join_CaseAccountContactUser":{"action":"augment","parameters":{"leftKey":["OwnerId"],"relationship":"Owner","rightKey":["Id"],"rightSelect":["CallCenterId","Name","Id","UserRoleId","Type"]},"sources":["Join_CaseAccountContact","Append_Queue_User"]},"add_standard_Extract_Knowledge_VoteStat":{"action":"computeExpression","parameters":{"computedFields":[{"name":"Channel","saqlExpression":"Channel__c","type":"Text"},{"name":"ParentId","saqlExpression":"ParentId__c","type":"Text"},{"label":"NormalizedScore","name":"NormalizedScore","precision":18,"saqlExpression":"'NormalizedScore__c'","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["Extract_Knowledge_VoteStat"]},"Case_CSAT_Mea":{"action":"dim2mea","parameters":{"dimension":"CSAT__c","measure":"CSAT","measureDefault":"-999","measureType":"long"},"sources":["compute_CalculatedCaseDuration"]},"Join_CaseHistory_NewOwner":{"action":"augment","parameters":{"leftKey":["NewOwner"],"relationship":"NewOwner","rightKey":["Id"],"rightSelect":["CallCenterId","Name","Id","Role.Name","Type"]},"sources":["Join_CaseHistory_OldOwner","Join_CaseHistory_Queue_User_UserRole"]},"Join_LiveChatTranscript_Case":{"action":"augment","parameters":{"leftKey":["CaseId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["Origin","Reason","Type","IsClosed","ClosedDate","CreatedDate","Type_of_Support__c","Status","Product_Family_KB__c","Priority","CaseNumber","Account.Name","Account.Id","Time_Open__c","CSAT__c","Role.Name","CurrentDate","CSAT","RecordType.Name"]},"sources":["Join_LiveChatTranscript_User","Join_CaseAccountContactUserUserRoleRecordType"]},"Join_ActivityOwner_Case":{"action":"augment","parameters":{"leftKey":["WhatId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["Id","Origin","Reason","Type","IsClosed","ClosedDate","CreatedDate","Type_of_Support__c","Status","Product_Family_KB__c","Priority","CaseNumber","RecordType.Name","Account.Name","Account.Id","Time_Open__c","Role.Name","CurrentDate"]},"sources":["Join_ActivityOwner","Handle_Null_RecordType"]},"computeJoin_ServiceCaseTaskEvent":{"action":"computeExpression","parameters":{"computedFields":[{"defaultValue":"0","label":"Last LastModifiedDate","name":"sum_last_activity","precision":18,"saqlExpression":"case when ('Task.ActivityLastModifiedDate_sec_epoch' > 'Event.ActivityLastModifiedDate_sec_epoch' && 'Task.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then  ('CurrentDate_sec_epoch' - 'Task.ActivityLastModifiedDate_sec_epoch')/86400 when ('Event.ActivityLastModifiedDate_sec_epoch' > 'Task.ActivityLastModifiedDate_sec_epoch' && 'Event.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'Event.ActivityLastModifiedDate_sec_epoch')/86400  when ('LastModifiedDate_sec_epoch' >= 'Task.ActivityLastModifiedDate_sec_epoch' && 'LastModifiedDate_sec_epoch' >= 'Event.ActivityLastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400  else ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400 end","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["Join_ServiceCaseTaskEvent"]},"compute_CurrentDateForCase":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CurrentDate","name":"CurrentDate","saqlExpression":"now()","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"ValidToWithNow","name":"ValidToWithNow","saqlExpression":"case  when ('IsClosed' == \"true\") then toDate('ClosedDate_Year' + 'ClosedDate_Month' + 'ClosedDate_Day' + 'ClosedDate_Hour' + 'ClosedDate_Minute' + 'ClosedDate_Second',\"yyyyMMddHHmmss\") else now()  end","type":"Date"}],"mergeWithSource":true},"sources":["add_standard_Extract_Case"]},"add_standard_Extract_Knowledge_ViewStat":{"action":"computeExpression","parameters":{"computedFields":[{"name":"Channel","saqlExpression":"Channel__c","type":"Text"},{"name":"ParentId","saqlExpression":"ParentId__c","type":"Text"},{"label":"ViewCount","name":"ViewCount","precision":18,"saqlExpression":"'ViewCount__c'","scale":0,"type":"Numeric"},{"label":"NormalizedScore","name":"NormalizedScore","precision":18,"saqlExpression":"'NormalizedScore__c'","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["Extract_Knowledge_ViewStat"]},"Extract_Knowledge_ka":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"ArticleNumber__c"},{"name":"CaseAssociationCount__c"},{"name":"CreatedById"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"FirstPublishedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"LastPublishedDate__c"},{"name":"LastModifiedById"}],"object":"KCSArticle_ka__c","passthroughFilter":"External_Id__c LIKE 'W_KCSArticle.%'"}},"Handle_Null_Opportunity_RecordType":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Opportunity Record Type","name":"RecordTypeName","saqlExpression":"case when RecordTypeId is null then \"N/A\" else 'RecordType.Name' end","type":"Text"}],"mergeWithSource":true},"sources":["Join_OpportunityRecordType"]},"Add_Fields_To_User":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Type","name":"Type","saqlExpression":"\"User\"","type":"Text"}],"mergeWithSource":true},"sources":["Extract_User"]},"Join_Append_Knowledge__ka_kav_dataCategory_ViewStat":{"action":"augment","parameters":{"leftKey":["Id"],"relationship":"ViewStat","rightKey":["ParentId"],"rightSelect":["Channel","ViewCount","NormalizedScore"]},"sources":["Join_Append_Knowledge__ka_kav_dataCategory","add_standard_Extract_Knowledge_ViewStat"]},"Register_ServiceCaseHistory":{"action":"register","parameters":{"label":"ServiceCaseHistory","name":"ServiceCaseHistory"},"sources":["Join_CaseHistory_NewOwner"]},"Join_AgentWorkUserGroupServiceChannelCase_NoCSAT":{"action":"augment","parameters":{"leftKey":["WorkItemId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["Origin","Reason","Type","IsClosed","ClosedDate","CreatedDate","Type_of_Support__c","Status","Product_Family_KB__c","Priority","CaseNumber","Account.Name","Account.Id","Time_Open__c","Role.Name","CurrentDate","RecordType.Name"]},"sources":["Join_AgentWorkUserGroupServiceChannel","Join_CaseAccountContactUserUserRoleRecordType"]},"Extract_Knowledge_kav_archived":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"ArticleNumber__c"},{"name":"CreatedById"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"name":"OwnerId__c"},{"name":"PublishStatus__c"},{"name":"IsLatestVersion__c"},{"name":"IsVisibleInApp__c"},{"name":"IsVisibleInCsp__c"},{"name":"IsVisibleInPkb__c"},{"name":"IsVisibleInPrm__c"},{"name":"KnowledgeArticleId__c"},{"name":"Title__c"},{"name":"VersionNumber__c","type":"Text"}],"object":"KCSArticle_kav__c","passthroughFilter":"External_Id__c LIKE 'W_KCSArticleVersion.%' and Language__c = 'en_US' and PublishStatus__c = 'Archived'","runtime":{"enablePKChunking":false}}},"Register_ActivityOwner_Case":{"action":"register","parameters":{"label":"ServiceActivity","name":"ServiceActivity","runtime":{"SFDCtoken":"SFDCtoken"}},"sources":["Filter_Activities"]},"Extract_Task":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"CallObject"},{"name":"CallDurationInSeconds"},{"defaultValue":"N/A","name":"CallDisposition"},{"defaultValue":"N/A","name":"CallType"},{"name":"OwnerId"},{"defaultValue":"N/A","name":"Status"},{"defaultValue":"N/A","name":"Priority"},{"name":"IsClosed"},{"defaultValue":"N/A","name":"TaskSubtype"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"ActivityDate"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"LastModifiedDate__c"},{"defaultValue":"N/A","name":"Subject"},{"name":"WhatId"}],"object":"Task","passthroughFilter":"External_ID__c LIKE 'W_Services_Task.%'"}},"Register_LiveChatTranscriptEvent":{"action":"register","parameters":{"label":"ServiceChatTranscriptEvent","name":"ServiceChatTranscriptEvent"},"sources":["compute_LiveChatTranscriptEventLCT"]},"Append_TaskEvent":{"action":"append","parameters":{},"sources":["Add_Fields_To_Task","Add_Fields_To_Event"]},"Extract_ServicePresenceStatus":{"action":"sobjectDigest","parameters":{"fields":[{"name":"MasterLabel"},{"name":"Id"}],"object":"ServicePresenceStatus"}},"Register_LiveChatTranscript":{"action":"register","parameters":{"label":"ServiceChatTranscript","name":"ServiceChatTranscript"},"sources":["compute_LiveChatTranscriptCSAT"]},"Extract_CaseArticleKnowledge":{"action":"sobjectDigest","parameters":{"fields":[{"name":"ArticleVersionNumber__c","type":"Text"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"name":"CaseId__c"},{"name":"CreatedById__c"},{"name":"KnowledgeArticleId__c"},{"name":"IsSharedByEmail__c"}],"object":"CaseArticle__c","passthroughFilter":"External_Id__c LIKE 'W_CaseArticle.%'"}},"Extract_Knowledge_VoteStat":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Channel__c"},{"name":"ParentId__c"},{"name":"NormalizedScore__c"}],"object":"KCSArticle_VoteStat__c","passthroughFilter":"External_Id__c LIKE 'W_KCSArticle_VoteStat.%'"}},"Extract_LiveChatTranscriptEvent":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Detail__c"},{"name":"Time__c"},{"name":"Type__c"},{"name":"LiveChatTranscriptId__c"},{"name":"AgentId__c"}],"filterConditions":[{"field":"Type__c","list":["Accept","Transfer","OperatorJoinedConference"],"operator":"IN"},{"field":"External_Id__c","operator":"LIKE","value":"W_LiveChatTranscriptEvent.%"}],"object":"LiveChatTranscriptEvent__c","runtime":{"enablePKChunking":false}}},"Add_Fields_To_Event":{"action":"computeExpression","parameters":{"computedFields":[{"label":"CallObject","name":"CallObject","saqlExpression":"\"000000000000000\"","type":"Text"},{"label":"Type","name":"Type","saqlExpression":"\"Event\"","type":"Text"},{"label":"CallDisposition","name":"CallDisposition","saqlExpression":"\"Event\"","type":"Text"},{"label":"CallType","name":"CallType","saqlExpression":"\"Event\"","type":"Text"},{"label":"Status","name":"Status","saqlExpression":"\"Event\"","type":"Text"},{"label":"Priority","name":"Priority","saqlExpression":"\"Event\"","type":"Text"},{"label":"TaskSubtype","name":"TaskSubtype","saqlExpression":"EventSubtype","type":"Text"},{"label":"ActivityType","name":"ActivityType","saqlExpression":"EventSubtype","type":"Text"},{"defaultValue":"0","label":"CallDurationInSeconds","name":"CallDurationInSeconds","precision":8,"saqlExpression":"0","scale":0,"type":"Numeric"},{"label":"IsClosed","name":"IsClosed","saqlExpression":"case when date(ActivityDate_Year,ActivityDate_Month,ActivityDate_Day) in [\"1 year ago\"..\"current day\"] then \"false\" else \"true\" end","type":"Text"}],"mergeWithSource":true},"sources":["add_standard_Extract_Event"]},"add_standard_Extract_CaseHistory":{"action":"computeExpression","parameters":{"computedFields":[{"name":"CaseId","saqlExpression":"CaseId__c","type":"Text"},{"name":"CreatedById","saqlExpression":"CreatedById__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"Field","saqlExpression":"Field__c","type":"Text"},{"name":"OldValue","saqlExpression":"OldValue__c","type":"Text"},{"name":"NewValue","saqlExpression":"NewValue__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_CaseHistory"]},"add_standard_Extract_Knowledge_DataCategory":{"action":"computeExpression","parameters":{"computedFields":[{"name":"DataCategoryGroupName","saqlExpression":"DataCategoryGroupName__c","type":"Text"},{"name":"DataCategoryName","saqlExpression":"DataCategoryName__c","type":"Text"},{"name":"ParentId","saqlExpression":"ParentId__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_Knowledge_DataCategory"]},"Join_CaseHistory_Queue_User_UserRole":{"action":"augment","parameters":{"leftKey":["UserRoleId"],"relationship":"Role","rightKey":["Id"],"rightSelect":["Name"]},"sources":["Append_Queue_User","Extract_UserRole"]},"Register_KnowledgeAttached":{"action":"register","parameters":{"label":"ServiceKnowledgeAttached","name":"ServiceKnowledgeAttached"},"sources":["computeKnowledgeCitationFlag"]},"Join_OpportunityRecordType":{"action":"augment","parameters":{"leftKey":["RecordTypeId"],"relationship":"RecordType","rightKey":["Id"],"rightSelect":["Name"]},"sources":["add_standard_Extract_Opportunity","Extract_RecordTypes"]},"compute_LiveChatTranscriptEventLCT":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Is Chat Transfered","name":"IsChatTransfered","saqlExpression":"case when 'LCT.Status' == \"Completed\" && (('Type' == \"Accept\") || ('Type' ==  \"Transfer\")  || ('Type' ==  \"OperatorJoinedConference\")) && 'LCT.StartTime' != 'Time' then 1 else 0 end ","scale":0,"type":"Numeric"},{"label":"Agent Chat End Time","name":"AgentChatEndTime_sec_epoch","precision":18,"saqlExpression":"case when 'TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch' then 'LCT.EndTime_sec_epoch' else 'TempAgentChatEndTime_sec_epoch' end ","scale":2,"type":"Numeric"},{"label":"Agent Chat Duration","name":"AgentChatDuration","precision":18,"saqlExpression":"case when 'TempAgentChatEndTime_sec_epoch' == 'Time_sec_epoch' then 'LCT.EndTime_sec_epoch' - 'Time_sec_epoch' else 'TempAgentChatEndTime_sec_epoch' - 'Time_sec_epoch' end ","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["Join_LiveChatTranscriptEventLCT"]},"Extract_LiveChatButton":{"action":"sobjectDigest","parameters":{"fields":[{"name":"MasterLabel"},{"name":"CustomAgentName"},{"name":"Id"}],"object":"LiveChatButton"}},"Append_Knowledge_kav":{"action":"append","parameters":{},"sources":["add_standard_Extract_Knowledge_kav_online","add_standard_Extract_Knowledge_kav_archived"]},"Extract_CaseHistory":{"action":"sobjectDigest","parameters":{"fields":[{"name":"CaseId__c"},{"name":"CreatedById__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"name":"Field__c"},{"name":"Id"},{"name":"NewValue__c"},{"name":"OldValue__c"}],"object":"CaseHistory__c","passthroughFilter":"External_Id__c LIKE 'W_CaseHistory.%' and CreatedDate__c >= LAST_N_MONTHS:18 and Field__c IN ('Status', 'Owner')","runtime":{"enablePKChunking":false}}},"Extract_RecordTypes":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Name"},{"name":"Id"}],"object":"RecordType"}},"Extract_Account":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"Name"},{"defaultValue":"N/A","name":"BillingState"},{"defaultValue":"N/A","name":"Industry"}],"object":"Account","passthroughFilter":"External_ID__c LIKE 'W_Services_Account.%'"}},"Join_AgentWorkUserGroup":{"action":"augment","parameters":{"leftKey":["OriginalQueueId"],"relationship":"Group","rightKey":["Id"],"rightSelect":["Name"]},"sources":["Join_AgentWorkUser","Extract_Group"]},"Join_ServiceCaseTaskEvent":{"action":"augment","parameters":{"leftKey":["Id"],"relationship":"Event","rightKey":["WhatId"],"rightSelect":["ActivityLastModifiedDate"]},"sources":["Join_ServiceCaseServiceTask","Compute_Extract_Event"]},"computeJoin_ServiceCaseTask":{"action":"computeExpression","parameters":{"computedFields":[{"defaultValue":"0","label":"Last LastModifiedDate","name":"sum_last_activity","precision":18,"saqlExpression":"case when ('Task.ActivityLastModifiedDate_sec_epoch' >= 'LastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'Task.ActivityLastModifiedDate_sec_epoch')/86400 when ('LastModifiedDate_sec_epoch' >= 'Task.ActivityLastModifiedDate_sec_epoch') then ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400  else ('CurrentDate_sec_epoch' - 'LastModifiedDate_sec_epoch')/86400 end","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["Join_ServiceCaseServiceTask"]},"Extract_UserRole":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"Name"},{"name":"ParentRoleId"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"LastModifiedDate"},{"name":"LastModifiedById"},{"name":"SystemModstamp"}],"object":"UserRole"}},"Join_CaseAccountContactUserUserRole":{"action":"augment","parameters":{"leftKey":["Owner.UserRoleId"],"relationship":"Role","rightKey":["Id"],"rightSelect":["Name","ParentRoleId"]},"sources":["Join_CaseAccountContactUser","Extract_UserRole"]},"Compute_Extract_Event":{"action":"computeRelative","parameters":{"computedFields":[{"description":"ActivityLastModifiedDate","expression":{"offset":"first()","sourceField":"LastModifiedDate","default":"current()"},"label":"ActivityLastModifiedDate","name":"ActivityLastModifiedDate"}],"orderBy":[{"direction":"asc","name":"LastModifiedDate"}],"partitionBy":["WhatId"]},"sources":["add_standard_Extract_Event"]},"compute_CaseHistory_OldNewStatus":{"action":"computeExpression","parameters":{"computedFields":[{"label":"New Status","name":"NewStatus","saqlExpression":"case when 'Field' == \"created\" then \"Created\" when 'Field' == \"Status\" then 'NewValue' else\"NA\" end ","type":"Text"},{"label":"Old Status","name":"OldStatus","saqlExpression":"case when 'Field' == \"closed\" then \"Closed\" when 'Field' == \"Status\" then 'OldValue' else \"NA\" end ","type":"Text"},{"defaultValue":"N/A","label":"New Owner","name":"NewOwner","saqlExpression":"case when 'Field' == \"Owner\" then 'NewValue' else\"NA\" end ","type":"Text"},{"defaultValue":"N/A","label":"Old Owner","name":"OldOwner","saqlExpression":"case when 'Field' == \"Owner\" then 'OldValue' else \"NA\" end ","type":"Text"},{"defaultValue":"0","label":"Date Diff Old","name":"DateDiffOld","precision":18,"saqlExpression":"case when ('CreatedDatePrev' is null) then ('CreatedDate_sec_epoch' - 'Case.CreatedDate_sec_epoch')/86400  else ('CreatedDate_sec_epoch' - 'CreatedDatePrev_sec_epoch')/86400 end","scale":2,"type":"Numeric"},{"defaultValue":"0","label":"Date Diff New","name":"DateDiffNew","precision":18,"saqlExpression":"case  when ('Case.IsClosed' == \"true\" && 'CreatedDateNext' is null && CreatedDate <= 'Case.ClosedDate') then ('Case.ClosedDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400   when ('Case.IsClosed' == \"true\" &&  CreatedDate > 'Case.ClosedDate') then 0 when 'CreatedDateNext' is null then ('CurrentDate_sec_epoch' -'CreatedDate_sec_epoch')/86400 else ('CreatedDateNext_sec_epoch' - 'CreatedDate_sec_epoch')/86400 end","scale":2,"type":"Numeric"},{"defaultValue":"false","label":"Change After CloseDate","name":"ChangeAfterCloseDate","saqlExpression":"case  when ('Field' == \"Owner\" && 'CreatedDate' > 'Case.ClosedDate') then \"true\"  else \"false\" end ","type":"Text"},{"defaultValue":"false","label":"Last Change","name":"IsLastChange","saqlExpression":"case when ('Case.ClosedDate' is null && 'ValidToDate' == \"3000-10-10T10:10:10.100Z\") then \"true\" when ('ValidFromDate' <= 'Case.ClosedDate' && 'ValidToDate' > 'Case.ClosedDate') then \"true\" else \"false\" end ","type":"Text"}],"mergeWithSource":true},"sources":["compute_CaseHistory_CurrentDate"]},"Extract_Group":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Name"},{"name":"Id"}],"object":"Group"}},"Extract_Event":{"action":"sobjectDigest","parameters":{"fields":[{"name":"OwnerId"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"CreatedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"LastModifiedDate__c"},{"firstDayOfWeek":0,"fiscalMonthOffset":0,"isYearEndFiscalYear":false,"name":"ActivityDate"},{"name":"EndDateTime"},{"defaultValue":"N/A","name":"Subject"},{"name":"ShowAs"},{"name":"DurationInMinutes"},{"defaultValue":"N/A","name":"EventSubtype"},{"name":"WhatId"}],"object":"Event","passthroughFilter":"External_ID__c LIKE 'W_Services_Event.%'"}},"Append_CaseHistory":{"action":"append","parameters":{},"sources":["compute_CaseHistory_DatePrevious_Status","compute_CaseHistory_DatePrevious_Owner"]},"Join_LiveChatTranscriptEventLCT":{"action":"augment","parameters":{"leftKey":["LiveChatTranscriptId"],"relationship":"LCT","rightKey":["Id"],"rightSelect":["Status","ChatDuration","EndedBy","StartTime","EndTime","RequestTime"]},"sources":["compute_LiveChatTranscriptEvent_ChatBoundaries","compute_LiveChatTranscriptCSAT"]},"Join_CaseHistory_Case":{"action":"augment","parameters":{"leftKey":["CaseId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["IsClosed","ClosedDate","CreatedDate","Time_Open__c","Product_Family_KB__c","Origin","Reason","Type_of_Support__c","Priority","IsEscalated","MilestoneStatus__c","RecordType.Name","Account.Name","Account.Id","Type","CaseNumber"]},"sources":["Append_CaseHistory","Join_CaseAccountContactUserUserRoleRecordType"]},"Join_CaseAccount":{"action":"augment","parameters":{"leftKey":["AccountId"],"relationship":"Account","rightKey":["Id"],"rightSelect":["Id","Name","BillingState","Industry"]},"sources":["Case_CSAT_Mea","Extract_Account"]},"Join_CaseAccountContact":{"action":"augment","parameters":{"leftKey":["ContactId"],"relationship":"Contact","rightKey":["Id"],"rightSelect":["Name","Id"]},"sources":["computeJoin_ServiceCaseTaskEvent","Extract_Contact"]},"add_standard_Extract_Knowledge_ka":{"action":"computeExpression","parameters":{"computedFields":[{"name":"ArticleNumber","saqlExpression":"ArticleNumber__c","type":"Text"},{"label":"CaseAssociationCount","name":"CaseAssociationCount","precision":18,"saqlExpression":"'CaseAssociationCount__c'","scale":0,"type":"Numeric"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"FirstPublishedDate","name":"FirstPublishedDate","saqlExpression":"toDate(FirstPublishedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"LastPublishedDate","name":"LastPublishedDate","saqlExpression":"toDate(LastPublishedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"}],"mergeWithSource":true},"sources":["Extract_Knowledge_ka"]},"compute_AgentWorkCSAT":{"action":"computeExpression","parameters":{"computedFields":[{"name":"CSAT","saqlExpression":"case when 'Case.CreatedDate' is null then -999 else 'Case.CSAT' end ","scale":0,"type":"Numeric"}],"mergeWithSource":true},"sources":["Join_AgentWorkUserGroupServiceChannelCase"]},"Compute_Extract_Task":{"action":"computeRelative","parameters":{"computedFields":[{"description":"ActivityLastModifiedDate","expression":{"offset":"first()","sourceField":"LastModifiedDate","default":"current()"},"label":"ActivityLastModifiedDate","name":"ActivityLastModifiedDate"}],"orderBy":[{"direction":"asc","name":"LastModifiedDate"}],"partitionBy":["WhatId"]},"sources":["add_standard_Extract_Task"]},"add_standard_Extract_UserServicePresence":{"action":"computeExpression","parameters":{"computedFields":[{"label":"AtCapacityDuration","name":"AtCapacityDuration","precision":18,"saqlExpression":"'AtCapacityDuration__c'","scale":0,"type":"Numeric"},{"label":"AverageCapacity","name":"AverageCapacity","precision":18,"saqlExpression":"'AverageCapacity__c'","scale":0,"type":"Numeric"},{"label":"ConfiguredCapacity","name":"ConfiguredCapacity","precision":18,"saqlExpression":"'ConfiguredCapacity__c'","scale":0,"type":"Numeric"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"label":"IdleDuration","name":"IdleDuration","precision":18,"saqlExpression":"'IdleDuration__c'","scale":0,"type":"Numeric"},{"name":"IsAway","saqlExpression":"IsAway__c","type":"Text"},{"name":"IsCurrentState","saqlExpression":"IsCurrentState__c","type":"Text"},{"label":"StatusDuration","name":"StatusDuration","precision":18,"saqlExpression":"'StatusDuration__c'","scale":0,"type":"Numeric"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"StatusEndDate","name":"StatusEndDate","saqlExpression":"toDate(StatusEndDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"StatusStartDate","name":"StatusStartDate","saqlExpression":"toDate(StatusStartDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"UserId","saqlExpression":"UserId__c","type":"Text"},{"name":"ServicePresenceStatusId","saqlExpression":"ServicePresenceStatusId__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_UserServicePresence"]},"Extract_User":{"action":"sobjectDigest","parameters":{"fields":[{"name":"CallCenterId"},{"name":"Name"},{"name":"UserRoleId"},{"name":"Id"}],"object":"User","passthroughFilter":"External_ID__c LIKE 'W_Services_User.%'"}},"add_standard_Extract_Knowledge_kav_online":{"action":"computeExpression","parameters":{"computedFields":[{"name":"ArticleNumber","saqlExpression":"ArticleNumber__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"OwnerId","saqlExpression":"OwnerId__c","type":"Text"},{"name":"PublishStatus","saqlExpression":"PublishStatus__c","type":"Text"},{"name":"IsLatestVersion","saqlExpression":"IsLatestVersion__c","type":"Text"},{"name":"IsVisibleInApp","saqlExpression":"IsVisibleInApp__c","type":"Text"},{"name":"IsVisibleInCsp","saqlExpression":"IsVisibleInCsp__c","type":"Text"},{"name":"IsVisibleInPkb","saqlExpression":"IsVisibleInPkb__c","type":"Text"},{"name":"IsVisibleInPrm","saqlExpression":"IsVisibleInPrm__c","type":"Text"},{"name":"KnowledgeArticleId","saqlExpression":"KnowledgeArticleId__c","type":"Text"},{"name":"Title","saqlExpression":"Title__c","type":"Text"},{"name":"VersionNumber","saqlExpression":"VersionNumber__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_Knowledge_kav_online"]},"add_standard_Extract_Opportunity":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(DateTimeCreated__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"}],"mergeWithSource":true},"sources":["Extract_Opportunity"]},"Extract_UserServicePresence":{"action":"sobjectDigest","parameters":{"fields":[{"name":"AtCapacityDuration__c"},{"name":"AverageCapacity__c"},{"name":"ConfiguredCapacity__c"},{"name":"CreatedDate__c"},{"name":"IsDeleted"},{"name":"IdleDuration__c"},{"name":"IsAway__c"},{"name":"IsCurrentState__c"},{"name":"LastModifiedDate"},{"name":"Name"},{"name":"StatusDuration__c"},{"name":"StatusEndDate__c"},{"name":"StatusStartDate__c"},{"name":"SystemModstamp"},{"name":"Id"},{"name":"UserId__c"},{"name":"ServicePresenceStatusId__c"}],"object":"UserServicePresence__c","passthroughFilter":"External_Id__c LIKE 'W_UserServicePresence.%'"}},"Register_Knowledge":{"action":"register","parameters":{"label":"ServiceKnowledge","name":"ServiceKnowledge"},"sources":["computeKnowledgeDraftStatusAndChannelField"]},"Join_OpportunityRecordTypeAccount":{"action":"augment","parameters":{"leftKey":["AccountId"],"relationship":"Account","rightKey":["Id"],"rightSelect":["Id","Name","Industry"]},"sources":["Handle_Null_Opportunity_RecordType","Extract_Account"]},"computeKnowledgeCitationFlag":{"action":"computeExpression","parameters":{"computedFields":[{"label":"is Attached By Owner?","name":"isAttachedByOwner","saqlExpression":"case when 'CreatedById' == 'Article.CreatedById' then \"true\" else \"false\" end","type":"Text"}],"mergeWithSource":true},"sources":["Join_CaseArticleKnowledge_User_Case_Knowledge"]},"compute_CaseHistory_DatePrevious_Owner":{"action":"computeRelative","parameters":{"computedFields":[{"description":"ValidToDate","expression":{"offset":"next()","sourceField":"CreatedDate","default":"3000-10-10T10:10:10.100Z"},"label":"ValidToDate","name":"ValidToDate"},{"description":"ValidFromDate","expression":{"offset":"current()","sourceField":"CreatedDate","default":"current()"},"label":"ValidFromDate","name":"ValidFromDate"},{"description":"Next Created Date","expression":{"offset":"next()","sourceField":"CreatedDate"},"label":"Next CreatedDate","name":"CreatedDateNext"},{"description":"Previous Created Date","expression":{"offset":"previous()","sourceField":"CreatedDate"},"label":"Previous CreatedDate","name":"CreatedDatePrev"}],"orderBy":[{"direction":"asc","name":"CreatedDate"}],"partitionBy":["CaseId"]},"sources":["Filter_CaseHistoryOwner"]},"Filter_CaseHistoryStatus":{"action":"filter","parameters":{"filter":"Field:EQ:Status"},"sources":["add_standard_Extract_CaseHistory"]},"Handle_Null_Attached_Articles":{"action":"dim2mea","parameters":{"dimension":"CaseArticle.ArticleVersionNumber","measure":"ArticleVersion","measureDefault":"0","measureType":"long"},"sources":["Join_CaseAccountContactUserUserRoleCaseArticle"]},"Extract_Queue":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"Name"}],"object":"Group","passthroughFilter":"Type = 'Queue'"}},"Extract_AgentWork":{"action":"sobjectDigest","parameters":{"fields":[{"name":"AcceptDateTime__c"},{"name":"ActiveTime__c"},{"name":"AgentCapacityWhenDeclined__c"},{"name":"Id"},{"name":"AssignedDateTime__c"},{"name":"CancelDateTime__c"},{"name":"CloseDateTime__c"},{"name":"CreatedDate__c"},{"name":"DeclineDateTime__c"},{"name":"DeclineReason__c"},{"name":"IsDeleted"},{"name":"HandleTime__c"},{"name":"LastModifiedDate"},{"name":"Name"},{"name":"CapacityPercentage__c"},{"name":"PushTimeout__c"},{"name":"PushTimeoutDateTime__c"},{"name":"RequestDateTime__c"},{"name":"SpeedToAnswer__c"},{"name":"Status__c"},{"name":"SystemModstamp"},{"name":"CapacityWeight__c"},{"name":"UserId__c"},{"name":"OriginalQueueId__c"},{"name":"ServiceChannelId__c"},{"name":"WorkItemId__c"}],"object":"AgentWork__c","passthroughFilter":"External_Id__c LIKE 'W_AgentWork.%'"}},"Extract_Knowledge_ViewStat":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Channel__c"},{"name":"ParentId__c"},{"name":"ViewCount__c"},{"name":"NormalizedScore__c"}],"object":"KCSArticle_ViewStat__c","passthroughFilter":"External_Id__c LIKE 'W_KCSArticle_ViewStat.%'"}},"Handle_Null_RecordType":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Case Record Type","name":"RecordTypeName","saqlExpression":"case when RecordTypeId is null then \"N/A\" else 'RecordType.Name' end","type":"Text"}],"mergeWithSource":true},"sources":["Join_CaseAccountContactUserUserRoleRecordType"]},"add_standard_Extract_Task":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"LastModifiedDate","name":"LastModifiedDate","saqlExpression":"toDate(LastModifiedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"}],"mergeWithSource":true},"sources":["Extract_Task"]},"Join_LiveChatTranscriptEvent_User":{"action":"augment","parameters":{"leftKey":["AgentId"],"relationship":"User","rightKey":["Id"],"rightSelect":["Name"]},"sources":["add_standard_Extract_LiveChatTranscriptEvent","Extract_User"]},"Filter_CaseHistoryOwner":{"action":"filter","parameters":{"filter":"Field:EQ:Owner"},"sources":["add_standard_Extract_CaseHistory"]},"Join_Append_Knowledge__kav_dataCategory":{"action":"augment","parameters":{"leftKey":["Id"],"operation":"LookupMultiValue","relationship":"DataCategory","rightKey":["ParentId"],"rightSelect":["DataCategoryName","DataCategoryGroupName"]},"sources":["Append_Knowledge_kav","add_standard_Extract_Knowledge_DataCategory"]},"Join_ServicePresenceUserStatus":{"action":"augment","parameters":{"leftKey":["ServicePresenceStatusId"],"relationship":"ServicePresenceStatusId","rightKey":["Id"],"rightSelect":["MasterLabel"]},"sources":["Join_ServicePresenceUser","Extract_ServicePresenceStatus"]},"add_standard_Extract_Event":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"LastModifiedDate","name":"LastModifiedDate","saqlExpression":"toDate(LastModifiedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"}],"mergeWithSource":true},"sources":["Extract_Event"]},"Join_OpportunityRecordTypeAccountCase":{"action":"augment","parameters":{"leftKey":["AccountId"],"relationship":"Case","rightKey":["AccountId"],"rightSelect":["Id","CaseNumber","IsEscalated","Priority"]},"sources":["Join_OpportunityRecordTypeAccount","compute_CalculatedCaseDuration"]},"Join_LiveChatTranscript_User":{"action":"augment","parameters":{"leftKey":["OwnerId"],"relationship":"User","rightKey":["Id"],"rightSelect":["Name"]},"sources":["compute_LiveChatTranscript","Extract_User"]},"Register_AgentWork":{"action":"register","parameters":{"label":"ServiceOmniAgentWork","name":"ServiceOmniAgentWork"},"sources":["compute_AgentWorkCSAT"]},"add_standard_Extract_CaseArticleKnowledge":{"action":"computeExpression","parameters":{"computedFields":[{"name":"ArticleVersionNumber","saqlExpression":"ArticleVersionNumber__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"CaseId","saqlExpression":"CaseId__c","type":"Text"},{"name":"CreatedById","saqlExpression":"CreatedById__c","type":"Text"},{"name":"KnowledgeArticleId","saqlExpression":"KnowledgeArticleId__c","type":"Text"},{"name":"IsSharedByEmail","saqlExpression":"IsSharedByEmail__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_CaseArticleKnowledge"]},"Join_ActivityOwner":{"action":"augment","parameters":{"leftKey":["OwnerId"],"relationship":"Owner","rightKey":["Id"],"rightSelect":["Name","Id","UserRoleId"]},"sources":["Append_TaskEvent","Extract_User"]},"add_standard_Extract_LiveChatTranscript":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Abandoned","name":"Abandoned","precision":18,"saqlExpression":"'Abandoned__c'","scale":0,"type":"Numeric"},{"label":"AverageResponseTimeOperator","name":"AverageResponseTimeOperator","precision":18,"saqlExpression":"'AverageResponseTimeOperator__c'","scale":0,"type":"Numeric"},{"label":"MaxResponseTimeOperator","name":"MaxResponseTimeOperator","precision":18,"saqlExpression":"'MaxResponseTimeOperator__c'","scale":0,"type":"Numeric"},{"label":"OperatorMessageCount","name":"OperatorMessageCount","precision":18,"saqlExpression":"'OperatorMessageCount__c'","scale":0,"type":"Numeric"},{"name":"Body","saqlExpression":"Body__c","type":"Text"},{"name":"Browser","saqlExpression":"Browser__c","type":"Text"},{"name":"BrowserLanguage","saqlExpression":"BrowserLanguage__c","type":"Text"},{"name":"CaseId","saqlExpression":"CaseId__c","type":"Text"},{"label":"ChatDuration","name":"ChatDuration","precision":18,"saqlExpression":"'ChatDuration__c'","scale":0,"type":"Numeric"},{"name":"ChatKey","saqlExpression":"ChatKey__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"EndTime","name":"EndTime","saqlExpression":"toDate(EndTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"EndedBy","saqlExpression":"EndedBy__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"LastReferencedDate","name":"LastReferencedDate","saqlExpression":"toDate(LastReferencedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"LastViewedDate","name":"LastViewedDate","saqlExpression":"toDate(LastViewedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"LiveChatButtonId","saqlExpression":"LiveChatButtonId__c","type":"Text"},{"name":"Location","saqlExpression":"Location__c","type":"Text"},{"name":"OwnerId","saqlExpression":"OwnerId__c","type":"Text"},{"name":"Platform","saqlExpression":"Platform__c","type":"Text"},{"name":"ReferrerUri","saqlExpression":"ReferrerUri__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"RequestTime","name":"RequestTime","saqlExpression":"toDate(RequestTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"ScreenResolution","saqlExpression":"ScreenResolution__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"StartTime","name":"StartTime","saqlExpression":"toDate(StartTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"Status","saqlExpression":"Status__c","type":"Text"},{"name":"SupervisorTranscriptBody","saqlExpression":"SupervisorTranscriptBody__c","type":"Text"},{"name":"UserAgent","saqlExpression":"UserAgent__c","type":"Text"},{"label":"AverageResponseTimeVisitor","name":"AverageResponseTimeVisitor","precision":18,"saqlExpression":"'AverageResponseTimeVisitor__c'","scale":0,"type":"Numeric"},{"name":"IpAddress","saqlExpression":"IpAddress__c","type":"Text"},{"label":"MaxResponseTimeVisitor","name":"MaxResponseTimeVisitor","precision":18,"saqlExpression":"'MaxResponseTimeVisitor__c'","scale":0,"type":"Numeric"},{"label":"VisitorMessageCount","name":"VisitorMessageCount","precision":18,"saqlExpression":"'VisitorMessageCount__c'","scale":0,"type":"Numeric"},{"label":"WaitTime","name":"WaitTime","precision":18,"saqlExpression":"'WaitTime__c'","scale":0,"type":"Numeric"}],"mergeWithSource":true},"sources":["Extract_LiveChatTranscript"]},"Add_Fields_To_Queue":{"action":"computeExpression","parameters":{"computedFields":[{"label":"CallCenterId","name":"CallCenterId","saqlExpression":"\"000000000000000\"","type":"Text"},{"label":"Type","name":"Type","saqlExpression":"\"Queue\"","type":"Text"},{"label":"UserRoleId","name":"UserRoleId","saqlExpression":"\"000000000000000\"","type":"Text"}],"mergeWithSource":true},"sources":["Extract_Queue"]},"compute_LiveChatTranscriptCSAT":{"action":"computeExpression","parameters":{"computedFields":[{"name":"CSAT","saqlExpression":"case when 'CaseId' is null then -999 else 'Case.CSAT' end ","scale":0,"type":"Numeric"}],"mergeWithSource":true},"sources":["Join_LiveChatTranscript_Case"]},"add_standard_Extract_LiveChatTranscriptEvent":{"action":"computeExpression","parameters":{"computedFields":[{"name":"Detail","saqlExpression":"Detail__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"Time","name":"Time","saqlExpression":"toDate(Time__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"Type","saqlExpression":"Type__c","type":"Text"},{"name":"LiveChatTranscriptId","saqlExpression":"LiveChatTranscriptId__c","type":"Text"},{"name":"AgentId","saqlExpression":"AgentId__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_LiveChatTranscriptEvent"]},"Register_Opportunity":{"action":"register","parameters":{"label":"ServiceOpportunities","name":"ServiceOpportunity","runtime":{"SFDCtoken":"SFDCtoken"}},"sources":["Join_OpportunityRecordTypeAccountCase"]},"Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat_User":{"action":"augment","parameters":{"leftKey":["CreatedById"],"relationship":"User","rightKey":["Id"],"rightSelect":["Name"]},"sources":["Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat","Extract_User"]},"add_standard_Extract_Knowledge_kav_archived":{"action":"computeExpression","parameters":{"computedFields":[{"name":"ArticleNumber","saqlExpression":"ArticleNumber__c","type":"Text"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"OwnerId","saqlExpression":"OwnerId__c","type":"Text"},{"name":"PublishStatus","saqlExpression":"PublishStatus__c","type":"Text"},{"name":"IsLatestVersion","saqlExpression":"IsLatestVersion__c","type":"Text"},{"name":"IsVisibleInApp","saqlExpression":"IsVisibleInApp__c","type":"Text"},{"name":"IsVisibleInCsp","saqlExpression":"IsVisibleInCsp__c","type":"Text"},{"name":"IsVisibleInPkb","saqlExpression":"IsVisibleInPkb__c","type":"Text"},{"name":"IsVisibleInPrm","saqlExpression":"IsVisibleInPrm__c","type":"Text"},{"name":"KnowledgeArticleId","saqlExpression":"KnowledgeArticleId__c","type":"Text"},{"name":"Title","saqlExpression":"Title__c","type":"Text"},{"name":"VersionNumber","saqlExpression":"VersionNumber__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_Knowledge_kav_archived"]},"Join_CaseArticleKnowledge_User_Case":{"action":"augment","parameters":{"leftKey":["CaseId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["Product_Family_KB__c","Reason","Status","Type_of_Support__c","Type"]},"sources":["Join_CaseArticleKnowledge_User","compute_CalculatedCaseDuration"]},"Join_CaseArticleKnowledge_User_Case_Knowledge":{"action":"augment","parameters":{"leftKey":["KnowledgeArticleId"],"relationship":"Article","rightKey":["Id"],"rightSelect":["ArticleVersion.Title","ArticleVersion.PublishStatus","ArticleVersion.VersionNumber","ArticleVersion.IsVisibleInApp","ArticleVersion.IsVisibleInCsp","ArticleVersion.IsVisibleInPkb","ArticleVersion.IsVisibleInPrm","ArticleVersion.DataCategory.DataCategoryName","ArticleVersion.DataCategory.DataCategoryGroupName","User.Name","CreatedById"]},"sources":["Join_CaseArticleKnowledge_User_Case","computeKnowledgeDraftStatusAndChannelField"]},"add_standard_Extract_AgentWork":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"AcceptDateTime","name":"AcceptDateTime","saqlExpression":"toDate(AcceptDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"label":"ActiveTime","name":"ActiveTime","precision":18,"saqlExpression":"'ActiveTime__c'","scale":0,"type":"Numeric"},{"label":"AgentCapacityWhenDeclined","name":"AgentCapacityWhenDeclined","precision":18,"saqlExpression":"'AgentCapacityWhenDeclined__c'","scale":0,"type":"Numeric"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CancelDateTime","name":"CancelDateTime","saqlExpression":"toDate(CancelDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CloseDateTime","name":"CloseDateTime","saqlExpression":"toDate(CloseDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"DeclineDateTime","name":"DeclineDateTime","saqlExpression":"toDate(DeclineDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"name":"DeclineReason","saqlExpression":"DeclineReason__c","type":"Text"},{"label":"HandleTime","name":"HandleTime","precision":18,"saqlExpression":"'HandleTime__c'","scale":0,"type":"Numeric"},{"label":"CapacityPercentage","name":"CapacityPercentage","precision":18,"saqlExpression":"'CapacityPercentage__c'","scale":2,"type":"Numeric"},{"label":"PushTimeout","name":"PushTimeout","precision":18,"saqlExpression":"'PushTimeout__c'","scale":0,"type":"Numeric"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"PushTimeoutDateTime","name":"PushTimeoutDateTime","saqlExpression":"toDate(PushTimeoutDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"RequestDateTime","name":"RequestDateTime","saqlExpression":"toDate(RequestDateTime__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"label":"SpeedToAnswer","name":"SpeedToAnswer","precision":18,"saqlExpression":"'SpeedToAnswer__c'","scale":0,"type":"Numeric"},{"name":"Status","saqlExpression":"Status__c","type":"Text"},{"label":"CapacityWeight","name":"CapacityWeight","precision":18,"saqlExpression":"'CapacityWeight__c'","scale":0,"type":"Numeric"},{"name":"UserId","saqlExpression":"UserId__c","type":"Text"},{"name":"OriginalQueueId","saqlExpression":"OriginalQueueId__c","type":"Text"},{"name":"ServiceChannelId","saqlExpression":"ServiceChannelId__c","type":"Text"},{"name":"WorkItemId","saqlExpression":"WorkItemId__c","type":"Text"}],"mergeWithSource":true},"sources":["Extract_AgentWork"]},"computeKnowledgeDraftStatusAndChannelField":{"action":"computeExpression","parameters":{"computedFields":[{"label":"Is Draft","name":"IsDraft","saqlExpression":"case when 'ArticleVersion.Id' is null then \"true\" else \"false\" end","type":"Text"},{"label":"Channel List","name":"ChannelList","saqlExpression":"case when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Public\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Customer\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Customer;Public\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Parter\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Parter;Public\" when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Parter;Customer\"    when ('ArticleVersion.IsVisibleInApp' == \"false\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Parter;Customer;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal;Customer\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"false\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Customer;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal;Parter\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"false\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Parter;Public\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"false\" ) then \"Internal;Parter;Customer\" when ('ArticleVersion.IsVisibleInApp' == \"true\" && 'ArticleVersion.IsVisibleInPrm' == \"true\" && 'ArticleVersion.IsVisibleInCsp' == \"true\" && 'ArticleVersion.IsVisibleInPkb' == \"true\" ) then \"Internal;Parter;Customer;Public\" end","type":"Text"}],"mergeWithSource":true},"sources":["Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat_User"]},"Join_Append_Knowledge__ka_kav_dataCategory_ViewStat_VoteStat":{"action":"augment","parameters":{"leftKey":["Id"],"relationship":"VoteStat","rightKey":["ParentId"],"rightSelect":["Channel","NormalizedScore"]},"sources":["Join_Append_Knowledge__ka_kav_dataCategory_ViewStat","add_standard_Extract_Knowledge_VoteStat"]},"Join_CaseArticleKnowledge_User":{"action":"augment","parameters":{"leftKey":["CreatedById"],"relationship":"User","rightKey":["Id"],"rightSelect":["Id","Name"]},"sources":["add_standard_Extract_CaseArticleKnowledge","Extract_User"]},"Append_Queue_User":{"action":"append","parameters":{},"sources":["Add_Fields_To_Queue","Add_Fields_To_User"]},"compute_LiveChatTranscriptEvent_ChatBoundaries":{"action":"computeRelative","parameters":{"computedFields":[{"description":"Temp Agent Chat End Time","expression":{"offset":"next()","sourceField":"Time","default":"current()"},"label":"TempAgentChatEndTime","name":"TempAgentChatEndTime"}],"orderBy":[{"direction":"asc","name":"Time"}],"partitionBy":["LiveChatTranscriptId"]},"sources":["Join_LiveChatTranscriptEvent_User"]},"Join_AgentWorkUserGroupServiceChannelCase":{"action":"augment","parameters":{"leftKey":["WorkItemId"],"relationship":"Case","rightKey":["Id"],"rightSelect":["Origin","Reason","Type","IsClosed","ClosedDate","CreatedDate","Type_of_Support__c","Status","Product_Family_KB__c","Priority","CaseNumber","Account.Name","Account.Id","Time_Open__c","CSAT__c","Role.Name","CurrentDate","CSAT","RecordType.Name"]},"sources":["Join_AgentWorkUserGroupServiceChannel","Join_CaseAccountContactUserUserRoleRecordType"]},"Extract_Knowledge_DataCategory":{"action":"sobjectDigest","parameters":{"fields":[{"name":"DataCategoryGroupName__c"},{"name":"DataCategoryName__c"},{"name":"ParentId__c"}],"object":"KCSArticle_DataCategorySelection__c","passthroughFilter":"External_Id__c LIKE 'W_KCSArticle_DCS.%'"}},"Join_Append_Knowledge__ka_kav_dataCategory":{"action":"augment","parameters":{"leftKey":["Id"],"relationship":"ArticleVersion","rightKey":["KnowledgeArticleId"],"rightSelect":["CreatedById","CreatedDate","OwnerId","PublishStatus","IsLatestVersion","IsVisibleInApp","IsVisibleInCsp","IsVisibleInPkb","IsVisibleInPrm","Title","VersionNumber","Id","DataCategory.DataCategoryName","DataCategory.DataCategoryGroupName"]},"sources":["add_standard_Extract_Knowledge_ka","Join_Append_Knowledge__kav_dataCategory"]},"add_standard_Extract_Case":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CreatedDate","name":"CreatedDate","saqlExpression":"toDate(CreatedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"Closed Date","name":"ClosedDate","saqlExpression":"toDate(ClosedDate__c, \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\")","type":"Date"},{"label":"Milestone Status","name":"MilestoneStatus","saqlExpression":"'MilestoneStatus__c'","type":"Text"}],"mergeWithSource":true},"sources":["Extract_Case"]},"compute_CaseHistory_CurrentDate":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"CurrentDate","name":"CurrentDate","saqlExpression":"now()","type":"Date"},{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","name":"ValidToWithNow","saqlExpression":"case when 'ValidToDate' == \"3000-10-10T10:10:10.100Z\" then now() else toDate('ValidToDate_Year' + 'ValidToDate_Month' + 'ValidToDate_Day' + 'ValidToDate_Hour' + 'ValidToDate_Minute' + 'ValidToDate_Second',\"yyyyMMddHHmmss\") end","type":"Date"}],"mergeWithSource":true},"sources":["Join_CaseHistory_Case"]},"Join_AgentWorkUserGroupServiceChannel":{"action":"augment","parameters":{"leftKey":["ServiceChannelId"],"relationship":"ServiceChannelId","rightKey":["Id"],"rightSelect":["DeveloperName","MasterLabel"]},"sources":["Join_AgentWorkUserGroup","Extract_ServiceChannel"]},"Register_UserServicePresence":{"action":"register","parameters":{"label":"ServiceOmniUserPresence","name":"ServiceOmniUserPresence"},"sources":["Join_ServicePresenceUserStatus"]},"compute_CalculatedCaseDuration":{"action":"computeExpression","parameters":{"computedFields":[{"defaultValue":"0","label":"Case Duration","name":"DurationCalculatedField","precision":18,"saqlExpression":"case  when ('IsClosed' == \"true\") then ('ClosedDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400   else ('CurrentDate_sec_epoch' - 'CreatedDate_sec_epoch')/86400  end","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["compute_CurrentDateForCase"]},"compute_CaseHistory_DatePrevious_Status":{"action":"computeRelative","parameters":{"computedFields":[{"description":"ValidToDate","expression":{"offset":"next()","sourceField":"CreatedDate","default":"3000-10-10T10:10:10.100Z"},"label":"ValidToDate","name":"ValidToDate"},{"description":"ValidFromDate","expression":{"offset":"current()","sourceField":"CreatedDate","default":"current()"},"label":"ValidFromDate","name":"ValidFromDate"},{"description":"Next Created Date","expression":{"offset":"next()","sourceField":"CreatedDate"},"label":"Next CreatedDate","name":"CreatedDateNext"},{"description":"Previous Created Date","expression":{"offset":"previous()","sourceField":"CreatedDate"},"label":"Previous CreatedDate","name":"CreatedDatePrev"}],"orderBy":[{"direction":"asc","name":"CreatedDate"}],"partitionBy":["CaseId"]},"sources":["Filter_CaseHistoryStatus"]},"Extract_LiveChatTranscript":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Abandoned__c"},{"name":"AverageResponseTimeOperator__c"},{"name":"MaxResponseTimeOperator__c"},{"name":"OperatorMessageCount__c"},{"name":"Body__c"},{"name":"Browser__c"},{"name":"BrowserLanguage__c"},{"name":"CaseId__c"},{"name":"ChatDuration__c"},{"name":"ChatKey__c"},{"name":"CreatedDate__c"},{"name":"IsDeleted"},{"name":"EndTime__c"},{"name":"EndedBy__c"},{"name":"LastModifiedDate"},{"name":"LastReferencedDate__c"},{"name":"LastViewedDate__c"},{"name":"LiveChatButtonId__c"},{"name":"Id"},{"name":"Name"},{"name":"Location__c"},{"name":"OwnerId__c"},{"name":"Platform__c"},{"name":"ReferrerUri__c"},{"name":"RequestTime__c"},{"name":"ScreenResolution__c"},{"name":"StartTime__c"},{"name":"Status__c"},{"name":"SupervisorTranscriptBody__c"},{"name":"SystemModstamp"},{"name":"UserAgent__c"},{"name":"AverageResponseTimeVisitor__c"},{"name":"IpAddress__c"},{"name":"MaxResponseTimeVisitor__c"},{"name":"VisitorMessageCount__c"},{"name":"WaitTime__c"}],"object":"LiveChatTranscript__c","passthroughFilter":"External_Id__c LIKE 'W_LiveChatTranscript.%'"}},"compute_LiveChatTranscript":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"StartTime_15Min","name":"StartTime_15Min","saqlExpression":"toDate(floor(StartTime_sec_epoch/900)*900)","type":"Date"}],"mergeWithSource":true},"sources":["Join_LCTButton"]},"Add_Fields_To_Task":{"action":"computeExpression","parameters":{"computedFields":[{"format":"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'","label":"EndDateTime","name":"EndDateTime","saqlExpression":"now()","type":"Date"},{"label":"Type","name":"Type","saqlExpression":"\"Task\"","type":"Text"},{"label":"EventSubtype","name":"EventSubtype","saqlExpression":"TaskSubtype","type":"Text"},{"label":"ActivityType","name":"ActivityType","saqlExpression":"TaskSubtype","type":"Text"},{"label":"ShowAs","name":"ShowAs","saqlExpression":"\"Task\"","type":"Text"},{"defaultValue":"0","label":"DurationInMinutes","name":"DurationInMinutes","precision":8,"saqlExpression":"0","scale":0,"type":"Numeric"}],"mergeWithSource":true},"sources":["add_standard_Extract_Task"]},"Join_AgentWorkUser":{"action":"augment","parameters":{"leftKey":["UserId"],"relationship":"UserId","rightKey":["Id"],"rightSelect":["Name"]},"sources":["add_standard_Extract_AgentWork","Extract_User"]},"Join_LCTButton":{"action":"augment","parameters":{"leftKey":["LiveChatButtonId"],"relationship":"LiveChatButton","rightKey":["Id"],"rightSelect":["MasterLabel","CustomAgentName"]},"sources":["add_standard_Extract_LiveChatTranscript","Extract_LiveChatButton"]},"Filter_Activities":{"action":"filter","parameters":{"filter":"IsActivity:EQ:Yes"},"sources":["Handle_Only_Activities"]},"Register_Case":{"action":"register","parameters":{"label":"ServiceCase","name":"ServiceCase","runtime":{"SFDCtoken":"SFDCtoken"}},"sources":["Handle_Null_RecordType"]}}}